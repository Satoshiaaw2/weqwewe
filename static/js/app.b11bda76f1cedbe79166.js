webpackJsonp([4],{0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){},"JJ/s":function(e,t,n){var i={"./connect-modal.entry.js":["nn58",0]};function r(e){var t=i[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}r.keys=function(){return Object.keys(i)},r.id="JJ/s",e.exports=r},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("lRwf"),r=n.n(i),a=n("c5JI"),c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"mainpage"}},[n("div",{attrs:{id:"header"}},[n("div",{attrs:{id:"topright"}},[e.bSignedIn?e._e():n("el-button",{attrs:{type:"primary",round:""},on:{click:e.loginIn}},[e._v("Sign in")]),e._v(" "),e.bSignedIn?n("el-button",{attrs:{type:"info",round:""},on:{click:e.loginOut}},[e._v("Sign out")]):e._e()],1)]),e._v(" "),n("div",{attrs:{id:"main"}},[n("div",[n("el-input",{staticClass:"input-with-select",staticStyle:{width:"40%","margin-bottom":"16px"},attrs:{placeholder:"principal address",maxlength:"200",size:"large",clearable:"true"},model:{value:e.inPrincipleAddr,callback:function(t){e.inPrincipleAddr=t},expression:"inPrincipleAddr"}}),e._v(" "),n("el-input",{staticClass:"input-with-select",staticStyle:{width:"30%","margin-bottom":"16px"},attrs:{placeholder:"stacks.btc",maxlength:"150",size:"large",clearable:"true"},model:{value:e.inTransferName,callback:function(t){e.inTransferName=t},expression:"inTransferName"}}),e._v(" "),n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{primary:""},on:{click:function(t){return e.onClickTransfer(e.inPrincipleAddr)}}},[e._v("Transfer")])],1),e._v(" "),n("div",[n("el-input",{staticClass:"input-with-select",staticStyle:{width:"40%","margin-bottom":"16px"},attrs:{placeholder:"contract full address",maxlength:"200",size:"large",clearable:"true"},model:{value:e.inContractAddr,callback:function(t){e.inContractAddr=t},expression:"inContractAddr"}}),e._v(" "),n("el-input",{staticClass:"input-with-select",staticStyle:{width:"30%","margin-bottom":"16px"},attrs:{placeholder:"stacks.btc",maxlength:"150",size:"large",clearable:"true"},model:{value:e.inTransferName,callback:function(t){e.inTransferName=t},expression:"inTransferName"}}),e._v(" "),n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{primary:""},on:{click:function(t){return e.onClickTransfer(e.inContractAddr)}}},[e._v("Transfer")])],1),e._v(" "),n("div",[n("el-input",{staticClass:"input-with-select",staticStyle:{width:"40%","margin-bottom":"16px"},attrs:{placeholder:"contract full address",maxlength:"200",size:"large",clearable:"true"},model:{value:e.inContractAddr,callback:function(t){e.inContractAddr=t},expression:"inContractAddr"}}),e._v(" "),n("el-input",{staticClass:"input-with-select",staticStyle:{width:"30%","margin-bottom":"16px"},attrs:{placeholder:"transfer to whom",maxlength:"150",size:"large",clearable:"true"},model:{value:e.inTransferToWhom,callback:function(t){e.inTransferToWhom=t},expression:"inTransferToWhom"}}),e._v(" "),n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{primary:""},on:{click:e.onClickNewVote}},[e._v("New Vote")])],1),e._v(" "),n("div",[n("el-input",{staticClass:"input-with-select",staticStyle:{width:"40%","margin-bottom":"16px"},attrs:{placeholder:"contract full address",maxlength:"200",size:"large",clearable:"true"},model:{value:e.inContractAddr,callback:function(t){e.inContractAddr=t},expression:"inContractAddr"}}),e._v(" "),n("el-input",{staticClass:"input-with-select",staticStyle:{width:"30%","margin-bottom":"16px"},attrs:{placeholder:"act_id",maxlength:"150",size:"large",clearable:"true"},model:{value:e.inVoteYesActId,callback:function(t){e.inVoteYesActId=t},expression:"inVoteYesActId"}}),e._v(" "),n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{primary:""},on:{click:e.onClickVoteYes}},[e._v("Vote yes")])],1),e._v(" "),n("div",[n("div",{staticStyle:{"margin-top":"64px"}}),e._v(" "),n("el-input",{staticClass:"input-with-select",staticStyle:{width:"15%","margin-bottom":"16px"},attrs:{placeholder:"price(0 if not need)",maxlength:"150",size:"large",clearable:"true"},model:{value:e.inNamePrice,callback:function(t){e.inNamePrice=t},expression:"inNamePrice"}}),e._v(" "),n("el-input",{staticClass:"input-with-select",staticStyle:{width:"30%","margin-bottom":"16px"},attrs:{placeholder:"name1,name2,name3...(lower case)",maxlength:"150",size:"large",clearable:"true"},model:{value:e.inRenewNames,callback:function(t){e.inRenewNames=t},expression:"inRenewNames"}}),e._v(" "),n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{primary:""},on:{click:e.onClickRenew}},[e._v("Renew")])],1),e._v(" "),n("div",[n("div",{staticStyle:{"margin-top":"12px"}}),e._v(" "),n("el-input",{staticClass:"input-with-select",staticStyle:{width:"10%","margin-bottom":"16px"},attrs:{placeholder:"stacks.btc",maxlength:"150",size:"large",clearable:"true"},model:{value:e.inDirectName,callback:function(t){e.inDirectName=t},expression:"inDirectName"}}),e._v(" "),n("el-input",{staticClass:"input-with-select",staticStyle:{width:"10%","margin-bottom":"16px"},attrs:{placeholder:"price (real)",maxlength:"150",size:"large",clearable:"true"},model:{value:e.inDirectPrice,callback:function(t){e.inDirectPrice=t},expression:"inDirectPrice"}}),e._v(" "),n("el-button",{staticStyle:{"margin-left":"5px"},attrs:{primary:""},on:{click:e.onClickDirectRenew}},[e._v("DirectRenew")])],1),e._v(" "),n("div")])])},staticRenderFns:[]};var s=function(e){n("bDUs")},o=n("VU/8")(a.a,c,!1,s,"data-v-50ce6578",null).exports;r.a.config.productionTip=!1,new r.a({el:"#app",components:{MainPage:o},template:"<MainPage/>"})},bDUs:function(e,t){},c5JI:function(e,t,n){"use strict";(function(e){var i=n("d7EF"),r=n.n(i),a=n("Xxa5"),c=n.n(a),s=n("exGp"),o=n.n(s),l=n("v1w/"),d=n("PfU1"),u=n("DHPL"),m=n("geuY"),f=(n.n(m),n("lRwf")),p=(n.n(f),Object(l.c)());t.a={name:"MainPage",data:function(){return{bHasInit:!1,bSignedIn:l.d.isUserSignedIn(),selfAddress:l.d.isUserSignedIn()?Object(l.b)():"",inPrincipleAddr:"",inContractAddr:"",inTransferName:"",inTransferToWhom:"",inVoteYesActId:"",inNoNeed:"",selfNamespace:"",selfName:"",pendingTip:"pending...",BNSAddr:"SP000000000000000000002Q6VF78",BNSName:"bns",inNamePrice:"",inRenewNames:"",inDirectName:"",inDirectPrice:""}},watch:{},mounted:function(){var e=this;return o()(c.a.mark(function t(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()},methods:{loginIn:function(e){if("function"==typeof e){this.$confirm("Please sign in first.","Tips",{confirmButtonText:"Sign in",cancelButtonText:"No",type:"info",center:!0}).then(function(){Object(l.a)()}).catch(function(){e()})}else Object(l.a)()},loginOut:function(){l.d.signUserOut(),window.location.reload()},verifyContract:function(){var e=this.inContractAddr.split("."),t=r()(e,2),n=t[0],i=t[1];return n&&(n=n.trim()),i&&(i=i.trim()),n&&0!=n.length&&i&&0!=i.length?[n,i]:(alert("contract addr invalid"),[!1,!1])},onClickTransfer:function(e){var t=null;if(-1!=(e=e.trim()).indexOf(".")){var n=this.verifyContract(),i=r()(n,2),a=i[0],c=i[1];if(!a)return;t=Object(d.d)(a,c)}else t=Object(d.k)(e);var s=this.inTransferName.trim().toLowerCase().split("."),o=r()(s,2),l=o[0],m=o[1];if(l&&(l=l.trim()),m&&(m=m.trim()),l&&0!=l.length&&m&&0!=m.length){var f=[Object(d.c)(m),Object(d.c)(l),t,Object(d.h)()],h=this,b={contractAddress:this.BNSAddr,contractName:this.BNSName,functionName:"name-transfer",functionArgs:f,postConditionMode:1,network:p,senderAddress:this.selfAddress,onFinish:function(e){h.$notify({title:"transfer sent",message:h.pendingTip})}};Object(u.c)(b)}else alert("BNS name invalid")},onClickNewVote:function(){var e=this.verifyContract(),t=r()(e,2),n=t[0],i=t[1];if(n){var a=this.inTransferToWhom.trim();if(0!=a.length){var c=this,s={contractAddress:n,contractName:i,functionName:"new_vote",functionArgs:[Object(d.k)(a)],postConditionMode:1,network:p,senderAddress:this.selfAddress,onFinish:function(e){c.$notify({title:"new vote",message:c.pendingTip})}};Object(u.c)(s)}else alert("to whom invalid")}},onClickVoteYes:function(){var e=this.verifyContract(),t=r()(e,2),n=t[0],i=t[1];if(n){var a=this.inVoteYesActId.trim();if(0!=a.length){var c=this,s={contractAddress:n,contractName:i,functionName:"vote_yes",functionArgs:[Object(d.m)(parseInt(a))],postConditionMode:1,network:p,senderAddress:this.selfAddress,onFinish:function(e){c.$notify({title:"vote yes",message:c.pendingTip})}};Object(u.c)(s)}else alert("to whom invalid")}},onClickRenew:function(){var e=this;return o()(c.a.mark(function t(){var n,i,r,a,s,o,l,m;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.inRenewNames.trim().split(","),i=0;case 2:if(!(i<n.length)){t.next=10;break}if(n[i]=n[i].trim(),0!=n[i].length){t.next=7;break}return alert("error"),t.abrupt("return");case 7:i++,t.next=2;break;case 10:if(r="",1!=n.length){t.next=15;break}r="renew_one",t.next=25;break;case 15:if(5!=n.length){t.next=19;break}r="renew_five",t.next=25;break;case 19:if(10!=n.length){t.next=23;break}r="renew_ten",t.next=25;break;case 23:return alert("must be 1 or 5 or 10 names"),t.abrupt("return");case 25:for(a=[],s=e.inNamePrice.trim(),a=0==s.length||0==parseInt(s)?[Object(d.m)(2e6),Object(d.f)()]:[Object(d.m)(parseInt(s)),Object(d.l)()],o=0;o<n.length;o++)a.push(Object(d.d)("SP1J1YKRP25FBVJT9X297VAGE6MRW0G1NS6PJNWQQ",n[o]));l=e,m={contractAddress:"SP1J1YKRP25FBVJT9X297VAGE6MRW0G1NS6PJNWQQ",contractName:"renew",functionName:r,functionArgs:a,postConditionMode:1,network:p,senderAddress:e.selfAddress,onFinish:function(e){l.$notify({title:"renew "+n.length,message:l.pendingTip})}},Object(u.c)(m);case 32:case"end":return t.stop()}},t,e)}))()},onClickDirectRenew:function(){var e=this.inDirectName.split("."),t=r()(e,2),n=t[0],i=t[1];if(n&&(n=n.trim()),i&&(i=i.trim()),n&&0!=n.length&&i&&0!=i.length){var a=this.inDirectPrice.trim();if(0!=a.length){var c=[Object(d.c)(i),Object(d.c)(n),Object(d.m)(parseInt(a)),Object(d.h)(),Object(d.h)()],s=this,o={contractAddress:this.BNSAddr,contractName:this.BNSName,functionName:"name-renewal",functionArgs:c,postConditionMode:1,network:p,senderAddress:this.selfAddress,onFinish:function(e){s.$notify({title:"direct renew "+s.inDirectName,message:s.pendingTip})}};Object(u.c)(o)}else alert("price invalid")}else alert("name invalid")},testWithdraw:function(){var t={contractAddress:"SP3Z7B90DWD65SRHZM70GSDN8MMGYAZKF6F2ERE2G",contractName:"A",functionName:"withdraw",functionArgs:[Object(d.b)(e.from("ee99991111777799991111777799991111777799991111777799991111777777","hex")),Object(d.h)()],postConditionMode:1,network:p,senderAddress:this.selfAddress};Object(u.c)(t)},test:function(){var e=this;return o()(c.a.mark(function t(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},t,e)}))()}}}}).call(t,n("EuP9").Buffer)},lRwf:function(e,t){e.exports=Vue},"v1w/":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),t.a=function(){Object(i.d)({appDetails:{name:"-",icon:"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Image_created_with_a_mobile_phone.png/440px-Image_created_with_a_mobile_phone.png"},redirectTo:"/",onFinish:function(){window.location.reload()},userSession:c})},t.c=function(){return o},t.b=function(){return s().profile.stxAddress.mainnet};var i=n("DHPL"),r=(n("hR57"),n("xm7s")),a=new i.a(["store_write","publish_data"]),c=new i.b({appConfig:a});function s(){return c.loadUserData()}var o=new r.a}},["NHnr"]);